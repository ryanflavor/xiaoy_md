# NATS Server Configuration with Security
# This configuration enables authentication and prepares for TLS

# Server configuration
port: 4222
http_port: 8222

# JetStream configuration
jetstream {
  store_dir: /data
  max_mem: 1G
  max_file: 10G
}

# Authentication configuration
authorization {
  # Create a test user for development/testing
  users: [
    {
      user: "testuser"
      password: "testpass"  # Plain text for testing
      permissions: {
        publish: ">"
        subscribe: ">"
      }
    },
    {
      user: "admin"
      password: "testpass"  # Plain text for testing
      permissions: {
        publish: ">"
        subscribe: ">"
      }
    }
  ]
}

# Monitoring
monitor_port: 8222

# Logging
debug: false
trace: false
logtime: true
# log_file: "/data/nats-server.log"  # Commented out - logs to stdout instead

# Limits
max_connections: 1000
max_payload: 1MB
max_pending: 10MB

# Ping settings
ping_interval: "2m"
ping_max: 2